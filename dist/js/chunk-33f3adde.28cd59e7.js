(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33f3adde"],{ad0c:function(e,a){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAirMinum"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"airMinums"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nama_pekerjaan"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jumlah_sr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panjang_pipa"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"penduduk_terlayani"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nama_pengelola"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rekapKegiatans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"kegiatan"},value:{kind:"StringValue",value:"Pembangunan SPAM Perdesaan",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pekerjaan"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteAirMinum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteAirMinum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"airMinum"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addAirMinum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nama_pekerjaan"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"jumlah_sr"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"panjang_pipa"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"penduduk_terlayani"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nama_pengelola"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createAirMinum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"data"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"nama_pekerjaan"},value:{kind:"Variable",name:{kind:"Name",value:"nama_pekerjaan"}}},{kind:"ObjectField",name:{kind:"Name",value:"jumlah_sr"},value:{kind:"Variable",name:{kind:"Name",value:"jumlah_sr"}}},{kind:"ObjectField",name:{kind:"Name",value:"panjang_pipa"},value:{kind:"Variable",name:{kind:"Name",value:"panjang_pipa"}}},{kind:"ObjectField",name:{kind:"Name",value:"penduduk_terlayani"},value:{kind:"Variable",name:{kind:"Name",value:"penduduk_terlayani"}}},{kind:"ObjectField",name:{kind:"Name",value:"nama_pengelola"},value:{kind:"Variable",name:{kind:"Name",value:"nama_pengelola"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"airMinum"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nama_pekerjaan"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jumlah_sr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panjang_pipa"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"penduduk_terlayani"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nama_pengelola"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:843}};n.loc.source={body:'query getAirMinum {\n  airMinums {\n    id\n    nama_pekerjaan\n    jumlah_sr\n    panjang_pipa\n    penduduk_terlayani\n    nama_pengelola\n  }\n    rekapKegiatans (where: { kegiatan: "Pembangunan SPAM Perdesaan" }) {\n    pekerjaan\n  }\n}\nmutation deleteAirMinum($id: ID!) {\n  deleteAirMinum(input: {where: {id: $id}}) {\n    airMinum {\n      id\n    }\n  }\n}\n\nmutation addAirMinum(\n  $nama_pekerjaan: String,\n  $jumlah_sr: Int,\n  $panjang_pipa: Int,\n  $penduduk_terlayani: Int,\n  $nama_pengelola:String\n){\n  createAirMinum(input: {data:{\n    nama_pekerjaan: $nama_pekerjaan\n    jumlah_sr: $jumlah_sr\n    panjang_pipa:$panjang_pipa\n    penduduk_terlayani: $penduduk_terlayani\n    nama_pengelola: $nama_pengelola\n  }}){\n    airMinum{\n      id\n      nama_pekerjaan\n      jumlah_sr\n      panjang_pipa\n      penduduk_terlayani\n      nama_pengelola\n    }\n  }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,a){if("FragmentSpread"===e.kind)a.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&a.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,a)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,a)})),e.definitions&&e.definitions.forEach((function(e){i(e,a)}))}var t={};function r(e,a){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==a)return i}}function d(e,a){var n={kind:e.kind,definitions:[r(e,a)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=t[a]||new Set,d=new Set,l=new Set;i.forEach((function(e){l.add(e)}));while(l.size>0){var s=l;l=new Set,s.forEach((function(e){if(!d.has(e)){d.add(e);var a=t[e]||new Set;a.forEach((function(e){l.add(e)}))}}))}return d.forEach((function(a){var i=r(e,a);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var a=new Set;i(e,a),t[e.name.value]=a}}))})(),e.exports=n,e.exports["getAirMinum"]=d(n,"getAirMinum"),e.exports["deleteAirMinum"]=d(n,"deleteAirMinum"),e.exports["addAirMinum"]=d(n,"addAirMinum")},c93e:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var i=n("a322");function t(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(a){Object(i["a"])(e,a,n[a])}))}return e}},ce56:function(e,a,n){"use strict";n.r(a);var i=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("vx-card",[n("div",{staticClass:"data-list-container",attrs:{id:"data-list-list-view"}},[n("vs-table",{attrs:{multiple:"",pagination:"","max-items":"10",search:"",data:e.dataAirMinum},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.data;return e._l(i,(function(a,t){return n("vs-tr",{key:t,attrs:{data:a}},[n("vs-td",{attrs:{data:i[t].id}},[n("span",[e._v(e._s(a.nama_pekerjaan))])]),n("vs-td",{attrs:{data:i[t].id}},[n("span",[e._v(e._s(a.jumlah_sr))])]),n("vs-td",{attrs:{data:i[t].id}},[n("span",{attrs:{"vs-align":"center"}},[e._v(e._s(a.panjang_pipa))])]),n("vs-td",{attrs:{data:i[t].id}},[n("span",{attrs:{"vs-align":"center"}},[e._v(e._s(a.penduduk_terlayani))])]),n("vs-td",[n("vs-button",{staticClass:"mr-2",attrs:{type:"border",size:"small","icon-pack":"feather",icon:"icon-delete",color:"success"},on:{click:function(n){return e.delAirMinum(a)}}}),n("vs-button",{staticClass:"mr-2",attrs:{type:"border",size:"small","icon-pack":"feather",icon:"icon-edit",color:"success"},on:{click:function(n){return e.$router.push("/2020/tambahairminum/?edit="+a.id)}}})],1)],1)}))}}]),model:{value:e.selected,callback:function(a){e.selected=a},expression:"selected"}},[n("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"flex flex-wrap-reverse items-center"},[n("div",{staticClass:"p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:function(a){return e.$router.push("/2020/tambahairminum")}}},[n("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),n("span",{staticClass:"ml-2 text-base text-primary"},[e._v("Tambah Baru")])],1),n("div",{staticClass:"p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:function(a){e.activePrompt2=!0}}},[n("feather-icon",{attrs:{icon:"SaveIcon",svgClasses:"h-4 w-4"}}),n("span",{staticClass:"ml-2 text-base text-primary"},[e._v("Download Data")]),n("vs-prompt",{attrs:{"vs-active":e.activePrompt2},on:{"vs-accept":e.exportToExcel,"update:vsActive":function(a){e.activePrompt2=a},"update:vs-active":function(a){e.activePrompt2=a}}},[n("div",{staticClass:"con-exemple-prompt"},[e._v("\n                  Masukkan Nama dan Format File yang Diinginkan\n                  "),n("vs-input",{staticClass:"w-full",attrs:{placeholder:"Nama File.."},model:{value:e.fileName,callback:function(a){e.fileName=a},expression:"fileName"}}),n("vs-select",{attrs:{label:"Format"},model:{value:e.selectedFormat,callback:function(a){e.selectedFormat=a},expression:"selectedFormat"}},e._l(e.formats,(function(e,a){return n("vs-select-item",{key:a,attrs:{value:e.value,text:e.text}})})),1)],1)])],1)])]),n("template",{slot:"thead"},[n("vs-th",{attrs:{"sort-key":"nama_pekerjaan"}},[e._v("\n          Pekerjaan\n        ")]),n("vs-th",{attrs:{"sort-key":"jumlah_sr"}},[e._v("\n          Jumlah SR\n        ")]),n("vs-th",{attrs:{"sort-key":"panjang_pipa"}},[e._v("\n          Panjang Pipa\n        ")]),n("vs-th",{attrs:{"sort-key":"penduduk_terlayani"}},[e._v("\n          Penduduk Terlayani\n        ")]),n("vs-th",[e._v("\n          Opsi\n          ")])],1)],2),e._v("\n    "+e._s(e.selected)+"\n    ")],1)])},t=[],r=n("c93e"),d=(n("20d6"),n("ac6a"),n("ad0c")),l={data:function(){return{fileName:"",formats:[{text:"xlsx",value:"xlsx"},{text:"csv",value:"csv"},{text:"txt",value:"txt"}],cellAutoWidth:!0,selectedFormat:"xlsx",activePrompt2:!1,val:"",selected:[],headerVal:["nama_pekerjaan","jumlah_sr","panjang_pipa","penduduk_terlayani"]}},apollo:{dataAirMinum:{query:d["getAirMinum"],variables:function(){},update:function(e){var a=e.airMinums;return a}}},methods:{exportToExcel:function(){var e=this;Promise.all([n.e("chunk-2d0aa5b8"),n.e("chunk-25dfa9cd"),n.e("chunk-39baaeee")]).then(n.bind(null,"4bf8d")).then((function(a){var n=["Pekerjaan","Jumlah SR","Panjang Pipa","Penduduk Terlayani"],i=e.dataAirMinum,t=e.formatJson(e.headerVal,i);a.export_json_to_excel({header:n,data:t,filename:e.fileName,autoWidth:!0,bookType:e.selectedFormat})}))},formatJson:function(e,a){return a.map((function(a){return e.map((function(e){return a[e]}))}))},delAirMinum:function(e){this.selected,this.$apollo.mutate({mutation:d["deleteAirMinum"],variables:{id:e.id},update:function(a){var n=[{query:d["getAirMinum"]},{query:d["getAirMinum"],variables:{}}],i=n.map((function(e){return a.readQuery(e)}));i.forEach((function(a){var n=a.airMinums,i=n.findIndex((function(a){return a.id===e.id}));-1!==i&&n.splice(i,1)})),n.forEach((function(e,n){a.writeQuery(Object(r["a"])({},e,{data:i[n]}))}))}}),location.reload()},handleSearch:function(e){var a="The user searched for: ".concat(e,"\n");this.$refs.pre.appendChild(document.createTextNode(a))},handleChangePage:function(e){var a="The user changed the page to: ".concat(e,"\n");this.$refs.pre.appendChild(document.createTextNode(a))},handleSort:function(e,a){var n="the user ordered: ".concat(e," ").concat(a,"\n");this.$refs.pre.appendChild(document.createTextNode(n))}}},s=l,u=n("2877"),m=Object(u["a"])(s,i,t,!1,null,null,null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-33f3adde.28cd59e7.js.map