(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33f3adde"],{ad0c:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAirMinum"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"airMinums"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nama_pekerjaan"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jumlah_sr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panjang_pipa"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"penduduk_terlayani"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nama_pengelola"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rekapKegiatans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"kegiatan"},value:{kind:"StringValue",value:"Pembangunan SPAM Perdesaan",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pekerjaan"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteAirMinum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteAirMinum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"airMinum"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addAirMinum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nama_pekerjaan"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"jumlah_sr"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"panjang_pipa"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"penduduk_terlayani"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nama_pengelola"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createAirMinum"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"data"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"nama_pekerjaan"},value:{kind:"Variable",name:{kind:"Name",value:"nama_pekerjaan"}}},{kind:"ObjectField",name:{kind:"Name",value:"jumlah_sr"},value:{kind:"Variable",name:{kind:"Name",value:"jumlah_sr"}}},{kind:"ObjectField",name:{kind:"Name",value:"panjang_pipa"},value:{kind:"Variable",name:{kind:"Name",value:"panjang_pipa"}}},{kind:"ObjectField",name:{kind:"Name",value:"penduduk_terlayani"},value:{kind:"Variable",name:{kind:"Name",value:"penduduk_terlayani"}}},{kind:"ObjectField",name:{kind:"Name",value:"nama_pengelola"},value:{kind:"Variable",name:{kind:"Name",value:"nama_pengelola"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"airMinum"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nama_pekerjaan"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jumlah_sr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panjang_pipa"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"penduduk_terlayani"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nama_pengelola"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:843}};a.loc.source={body:'query getAirMinum {\n  airMinums {\n    id\n    nama_pekerjaan\n    jumlah_sr\n    panjang_pipa\n    penduduk_terlayani\n    nama_pengelola\n  }\n    rekapKegiatans (where: { kegiatan: "Pembangunan SPAM Perdesaan" }) {\n    pekerjaan\n  }\n}\nmutation deleteAirMinum($id: ID!) {\n  deleteAirMinum(input: {where: {id: $id}}) {\n    airMinum {\n      id\n    }\n  }\n}\n\nmutation addAirMinum(\n  $nama_pekerjaan: String,\n  $jumlah_sr: Int,\n  $panjang_pipa: Int,\n  $penduduk_terlayani: Int,\n  $nama_pengelola:String\n){\n  createAirMinum(input: {data:{\n    nama_pekerjaan: $nama_pekerjaan\n    jumlah_sr: $jumlah_sr\n    panjang_pipa:$panjang_pipa\n    penduduk_terlayani: $penduduk_terlayani\n    nama_pengelola: $nama_pengelola\n  }}){\n    airMinum{\n      id\n      nama_pekerjaan\n      jumlah_sr\n      panjang_pipa\n      penduduk_terlayani\n      nama_pengelola\n    }\n  }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var t={};function d(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}function r(e,n){var a={kind:e.kind,definitions:[d(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=t[n]||new Set,r=new Set,l=new Set;i.forEach((function(e){l.add(e)}));while(l.size>0){var u=l;l=new Set,u.forEach((function(e){if(!r.has(e)){r.add(e);var n=t[e]||new Set;n.forEach((function(e){l.add(e)}))}}))}return r.forEach((function(n){var i=d(e,n);i&&a.definitions.push(i)})),a}(function(){a.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),t[e.name.value]=n}}))})(),e.exports=a,e.exports["getAirMinum"]=r(a,"getAirMinum"),e.exports["deleteAirMinum"]=r(a,"deleteAirMinum"),e.exports["addAirMinum"]=r(a,"addAirMinum")},c93e:function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var i=a("a322");function t(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},t=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),t.forEach((function(n){Object(i["a"])(e,n,a[n])}))}return e}},ce56:function(e,n,a){"use strict";a.r(n);var i=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("vx-card",[a("div",{staticClass:"data-list-container",attrs:{id:"data-list-list-view"}},[a("vs-table",{attrs:{multiple:"",pagination:"","max-items":"10",search:"",data:e.dataAirMinum},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.data;return e._l(i,(function(n,t){return a("vs-tr",{key:t,attrs:{data:n}},[a("vs-td",{attrs:{data:i[t].id}},[a("span",[e._v(e._s(n.nama_pekerjaan))])]),a("vs-td",{attrs:{data:i[t].id}},[a("span",[e._v(e._s(n.jumlah_sr))])]),a("vs-td",{attrs:{data:i[t].id}},[a("span",{attrs:{"vs-align":"center"}},[e._v(e._s(n.panjang_pipa))])]),a("vs-td",{attrs:{data:i[t].id}},[a("span",{attrs:{"vs-align":"center"}},[e._v(e._s(n.penduduk_terlayani))])]),a("vs-td",[a("vs-button",{attrs:{color:"primary",icon:"delete"},on:{click:function(a){return e.delAirMinum(n)}}})],1)],1)}))}}]),model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[a("div",{staticClass:"p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:function(n){return e.$router.push("/2020/tambahairminum")}}},[a("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2 text-base text-primary"},[e._v("Tambah Baru")])],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"nama_pekerjaan"}},[e._v("\n          Pekerjaan\n        ")]),a("vs-th",{attrs:{"sort-key":"jumlah_sr"}},[e._v("\n          Jumlah SR\n        ")]),a("vs-th",{attrs:{"sort-key":"panjang_pipa"}},[e._v("\n          Panjang Pipa\n        ")]),a("vs-th",{attrs:{"sort-key":"penduduk_terlayani"}},[e._v("\n          Penduduk Terlayani\n        ")]),a("vs-th",[e._v("\n          Opsi\n          ")])],1)],2),e._v("\n    "+e._s(e.selected)+"\n    ")],1)])},t=[],d=a("c93e"),r=(a("20d6"),a("ac6a"),a("ad0c")),l={data:function(){return{dataAirMinum:[],selected:[],headerVal:["pekerjaan","jumlah_sr","panjang_pipa","penduduk_terlayani"]}},apollo:{dataAirMinum:{query:r["getAirMinum"],variables:function(){},update:function(e){var n=e.airMinums;return n}}},methods:{exportToExcel:function(){var e=this;Promise.all([a.e("chunk-2d0aa5b8"),a.e("chunk-25dfa9cd"),a.e("chunk-39baaeee")]).then(a.bind(null,"4bf8d")).then((function(n){var a=["Pekerjaan","Jumlah SR","Panjang Pipa","Penduduk Terlayani"],i=e.dataAirMinum,t=e.formatJson(e.headerVal,i);n.export_json_to_excel({header:a,data:t,filename:"Rekap Pembangunan SPAM",autoWidth:!0,bookType:"xlsx"})}))},formatJson:function(e,n){return n.map((function(n){return e.map((function(e){return n[e]}))}))},delAirMinum:function(e){this.selected,this.$apollo.mutate({mutation:r["deleteAirMinum"],variables:{id:e.id},update:function(n){var a=[{query:r["getAirMinum"]},{query:r["getAirMinum"],variables:{}}],i=a.map((function(e){return n.readQuery(e)}));i.forEach((function(n){var a=n.rekapKegiatans,i=a.findIndex((function(n){return n.id===e.id}));-1!==i&&a.splice(i,1)})),a.forEach((function(e,a){n.writeQuery(Object(d["a"])({},e,{data:i[a]}))}))}}),location.reload()},handleSearch:function(e){var n="The user searched for: ".concat(e,"\n");this.$refs.pre.appendChild(document.createTextNode(n))},handleChangePage:function(e){var n="The user changed the page to: ".concat(e,"\n");this.$refs.pre.appendChild(document.createTextNode(n))},handleSort:function(e,n){var a="the user ordered: ".concat(e," ").concat(n,"\n");this.$refs.pre.appendChild(document.createTextNode(a))}}},u=l,s=a("2877"),m=Object(s["a"])(u,i,t,!1,null,null,null);n["default"]=m.exports}}]);
//# sourceMappingURL=chunk-33f3adde.c12e5e4d.js.map